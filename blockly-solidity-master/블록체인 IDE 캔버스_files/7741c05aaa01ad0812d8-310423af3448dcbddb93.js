(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{2665:function(e,t,r){e.exports={container:"container__2iP6G47sEc0hAqBE6gd-rL",screenReaderOnly:"screenReaderOnly__3RG-yj8QUaqEGxoq60clEz",loginForm:"loginForm__2b3QhfEl2q0x-jGDvaL1hW",formGroup:"formGroup__DxbdSf7u2URNR1UigkrrR",forgotPassword:"forgotPassword__3CETpPRhWY6VqWde7qEZ0J",fullWidth:"fullWidth__2aGNuAM7l4e7l8N_Vc254T",padBottomIfNotEmpty:"padBottomIfNotEmpty___qfVeDxS0ffuHMXuMwhV6"}},2720:function(e,t,r){e.exports={registrationContainer:"registrationContainer__2QEroVip0rj6VbrALiBz8V",screenReaderOnly:"screenReaderOnly__1DEYZ8Nk3P95bk8hyfMxBS",submitButton:"submitButton__34k4InI5TII_ayjcKIwCLO",tos:"tos__2irFvmVYzLt-zbObC3_2D8",recaptchaError:"recaptchaError__1Bv_glx_hCOObzHUb3cF9b",formGroup:"formGroup__2f7GlHvZXKIMvaIzaJuPIp",padBottomIfNotEmpty:"padBottomIfNotEmpty__1nV3QG5IEzhRlwpmTjvFiE"}},2722:function(e,t,r){e.exports={socialAuthContainer:"socialAuthContainer__3Z8JGrjINVY9W7QUaups9w",socialAuthButton:"socialAuthButton__37xPl0ozPFfWqDPqxOZliK",btnContainer:"btnContainer__3Ldc1PXDuChiV56wYQugYC",btnContainerListItem:"btnContainerListItem__10yHp3iXp82dNRPsTGDPpr",icon:"icon__2vDktWxPDSLCOvKmj71yjI",header:"header__C9eDi15RTpeygpoXEp9r"}},2723:function(e,t,r){e.exports=r.p+"74c384acd56adc62625f392b540a6d8b.svg"},2724:function(e,t,r){e.exports=r.p+"60fb18ae0caa43e1794d0715ce2fb6bf.svg"},2725:function(e,t,r){e.exports=r.p+"ffab1a716871d082b20aba480a35595b.svg"},2726:function(e,t,r){e.exports=r.p+"44054fb2b758a8db1cece67a2acbe209.svg"},2728:function(e,t,r){e.exports={captcha:"captcha__26156DPbSITpqYuXJA9H76"}},418:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=r(0),l=g(i),u=g(r(1)),s=r(185),c=g(r(20)),f=r(13),d=g(r(922)),p=g(r(560)),m=r(11),h=r(25),v=g(r(66)),b=g(r(920)),y=g(r(2665));function g(e){return e&&e.__esModule?e:{default:e}}var _=(n=a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"render",value:function(){return function(){var e=this.props,t=e.onRecapChange,r=e.errors,a=e.redirectUrl,n=v.default.get("login_requires_captcha"),o=v.default.get("authenticity_token");return l.default.createElement("div",{className:y.default.container},l.default.createElement(f.Container,{className:y.default.loginForm,column:!0},l.default.createElement(s.Form,{action:(0,h.loginPostActionUrl)(),autoComplete:"on",method:"POST"},l.default.createElement("legend",{className:y.default.screenReaderOnly},(0,m.t)("views.users.sessions.login")),l.default.createElement("input",{name:"authenticity_token",type:"hidden",value:o}),l.default.createElement("input",{name:"redirect",type:"hidden",value:a}),l.default.createElement(s.FormGroup,{className:y.default.formGroup,htmlFor:"user_login",label:"Username or email"},l.default.createElement(s.Input,{htmlFor:"user_login",autoComplete:"email username",name:"user[login]"})),l.default.createElement(s.FormGroup,{className:y.default.formGroup,htmlFor:"login__user_password",label:"Password"},l.default.createElement(s.Input,{htmlFor:"login__user_password",autoComplete:"current-password",type:"password",name:"user[password]"})),l.default.createElement("div",{className:y.default.padBottomIfNotEmpty},n&&l.default.createElement(d.default,{onChange:t,publicKey:v.default.get("recaptcha_key")})),l.default.createElement(p.default,{errors:r}),l.default.createElement("a",{href:(0,h.forgotPasswordUrl)(),className:y.default.forgotPassword},"I forgot my password"),l.default.createElement(c.default,{type:"submit",round:!0,theme:"brand-purple",size:"large",className:y.default.fullWidth,id:"user_submit"},(0,m.t)("views.users.sessions.login")))),l.default.createElement(f.Container,{column:!0},l.default.createElement(b.default,null)))}}()}]),t}(),a.propTypes={redirectUrl:u.default.string.isRequired,errors:u.default.array,onRecapChange:u.default.func},n);t.default=_,e.exports=t.default},420:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n,o=S(r(58)),i=S(r(52)),l=S(r(957)),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(e){n=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=r(0),d=S(f),p=S(r(1)),m=S(r(35)),h=r(43),v=S(r(2782)),b=r(11),y=S(r(2)),g=r(185),_=r(184),E=r(423),w=r(25),O=r(22),P=S(r(922)),C=S(r(920)),x=S(r(66)),j=S(r(30)),I=S(r(2720));function S(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var F=[{name:"username",label:(0,b.t)("views.users.registration.username_label"),autocomplete:"username",type:"text"},{name:"email",label:(0,b.t)("views.users.registration.email_label"),type:"email",autocomplete:"email",invalidMessage:"Please use a valid email address"},{name:"password",label:(0,b.t)("views.users.registration.password_label"),type:"password",autocomplete:"new-password",invalidMessage:"must have at least 4 characters",pattern:".{4,128}"}];"removed_variant"===j.default.getExperimentGroup("exp_remove_username_signup_2018_06_05_2018")&&(F=F.filter(function(e){return"username"!==e.name}));var N="/register/validate",z="/register",V=function(e){var t=(0,i.default)(e,"body.errors");return t&&Object.values(t).filter(function(e){return e})?Object.entries(t).reduce(function(e,t){var r=c(t,2),a=r[0],n=r[1];return s({},e,k({},a,(0,o.default)(n)?n[0]:n))},{}):null},T=(n=a=function(e){function t(){var e,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return r=a=R(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.idPrefix="sign_up_form_",a.state={disabled:!1,recaptchaInstanceId:(0,v.default)(),validationErrors:{}},a.onRecapChange=function(e){a.submitForm(e)},a.onRecapExpire=function(){a.resetRecaptcha()},a.submitForm=function(e){m.default.post(z).send(s({},a.serialize(),{"g-recaptcha-response":e})).use(h.csrf).accept("json").then(function(e){var t=e.body.redirectTo;(0,O.pushDataLayerEvent)("user_sign_up"),a.setState({disabled:!1}),window.location.assign((0,E.safeRedirectUrl)(t||(0,w.learnPath)()))}).catch(function(e){var t=V(e.response);a.setState({disabled:!1}),t&&a.setValidationErrorState(t),a.resetRecaptcha()})},a.onSubmitInitialize=function(e){return e.preventDefault(),a.setState({disabled:!0}),m.default.post(N).send(a.serialize()).use(h.csrf).accept("json").then(function(){a.captcha.execute()}).catch(function(e){var t=V(e.response);t&&a.setValidationErrorState(t),a.setState({disabled:!1})})},a.genericClientSideValidityHandler=function(e,t){var r=t.target.validity.valueMissing,n=t.target.validity.valid,o=void 0;r?o="can't be blank":n||(o=F.find(function(t){return t.name===e}).invalidMessage),a.setValidationErrorState(k({},e,o))},a.genericServerSideValidityHandler=(0,l.default)(function(e,t){t.target.value?m.default.post(N).send({user:k({},e,t.target.value)}).use(h.csrf).accept("json").then(function(){a.setValidationErrorState(k({},e,void 0))}).catch(function(t){var r=V(t.response);r[e]?a.setValidationErrorState(k({},e,r[e])):a.setValidationErrorState(k({},e,void 0))}):a.setValidationErrorState(k({},e,"can't be blank"))},250),a.validateField=function(e,t){"password"===e?a.genericClientSideValidityHandler(t.target.name,t):a.genericServerSideValidityHandler(t.target.name,t)},a.onFieldBlur=function(e){e.persist(),a.validateField(e.target.name,e)},a.onFieldKeyUp=function(e){e.persist();var t=e.target.name;a.state.validationErrors[t]&&a.validateField(e.target.name,e)},a.setFormRef=function(e){a.form=e},a.setCaptchaRef=function(e){a.captcha=e},R(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),u(t,[{key:"setValidationErrorState",value:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setState(function(r){return s({validationErrors:s({},r.validationErrors,e)},t)})}}()},{key:"isValid",value:function(){return function(){return!Object.values(this.state.validationErrors).filter(function(e){return e}).length}}()},{key:"serialize",value:function(){return function(){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(this.form.elements)).filter(function(e){return e.name}).reduce(function(e,t){var r=t.dataset.resource;return s({},e,r?k({},r,s({},e[r],k({},t.name,t.value))):k({},t.name,t.value))},{})}}()},{key:"resetRecaptcha",value:function(){return function(){this.setState({recaptchaInstanceId:(0,v.default)(),disabled:!1})}}()},{key:"render",value:function(){return function(){var e=this,t=x.default.get("authenticity_token"),r=this.props,a=r.redirectUrl,n=r.locationType,o=r.currentPage,i="location/EXERCISE"===n,l=this.state.disabled,u=(0,y.default)("recaptcha-wrapper",I.default.padBottomIfNotEmpty);return d.default.createElement("div",{className:I.default.registrationContainer},d.default.createElement("form",{onSubmit:this.onSubmitInitialize,noValidate:!0,ref:this.setFormRef},d.default.createElement("legend",{className:I.default.screenReaderOnly},"Sign up"),d.default.createElement("input",{name:"authenticity_token",type:"hidden",value:t}),d.default.createElement("input",{name:"signing_up_from_exercise",type:"hidden",value:i}),d.default.createElement("input",{name:"referring_page",type:"hidden",value:o}),d.default.createElement("input",{name:"redirect",type:"hidden",value:a}),F.map(function(t){return d.default.createElement(g.FormGroup,{key:""+e.idPrefix+t.name,htmlFor:""+e.idPrefix+t.name,label:t.label,className:I.default.formGroup,description:e.state.validationErrors[t.name]},d.default.createElement(g.Input,{htmlFor:""+e.idPrefix+t.name,name:t.name,type:t.type,autoComplete:t.autocomplete,onBlur:e.onFieldBlur,onKeyUp:e.onFieldKeyUp,required:!0,error:!!e.state.validationErrors[t.name],pattern:t.pattern,"data-resource":"user",autoFocus:"username"===t.name}))}),d.default.createElement("div",{className:u},this.state.validationErrors.recaptcha&&d.default.createElement("div",{className:I.default.recaptchaError,"data-test":"recaptcha-error"},this.state.validationErrors.recaptcha),d.default.createElement(P.default,{key:this.state.recaptchaInstanceId,publicKey:x.default.get("recaptcha_key"),size:"invisible",ref:this.setCaptchaRef,onChange:this.onRecapChange,onExpire:this.onRecapExpire})),d.default.createElement(_.Button,{size:"large",theme:"brand-purple",round:!0,type:"submit",className:I.default.submitButton,disabled:l,id:this.idPrefix+"submit"},(0,b.t)("views.users.registration.create_account_cta")),d.default.createElement("p",{className:I.default.tos,dangerouslySetInnerHTML:{__html:(0,b.t)("views.users.sessions.recaptcha_link")+" "+(0,b.t)("views.users.sessions.tos_link")}})),d.default.createElement(C.default,{signUp:!0}))}}()}]),t}(),a.propTypes={redirectUrl:p.default.string,locationType:p.default.string,currentPage:p.default.string},n);t.default=T,e.exports=t.default},557:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n=o(r(0));function o(e){return e&&e.__esModule?e:{default:e}}var i={width:o(r(1)).default.number},l=function(e){var t=e.width,r=void 0===t?80:t,o=function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}(e,["width"]);return n.default.createElement("svg",a({viewBox:"0 0 95 40",width:r,xmlns:"http://www.w3.org/2000/svg"},o),n.default.createElement("g",{fill:"none",fillRule:"evenodd"},n.default.createElement("path",{fill:"#6321E3",d:"M0 0h74v40H0zm78 34h17v6H78z"}),n.default.createElement("path",{d:"M13.971 23.67v6.82H10V10.345h6.82c4.749 0 7.253 2.965 7.253 6.62 0 3.625-2.504 6.705-7.253 6.705h-2.849zm2.245-9.871h-2.245v6.446h2.245c2.187 0 3.77-1.036 3.77-3.28 0-2.245-1.583-3.166-3.77-3.166zM37.734 30.49l-4.46-7.741h-2.821v7.741h-4V10.345h7.568c4.404 0 6.994 2.62 6.994 6.13 0 1.9-.777 4.317-3.828 5.526l5.151 8.49h-4.604zm-.72-13.986c0-1.784-1.295-2.705-3.51-2.705h-3.051v5.468h3.05c2.216 0 3.511-1.036 3.511-2.763zM53.467 10C59.31 10 64 14.346 64 20.418c0 6.072-4.69 10.417-10.533 10.417-5.842 0-10.533-4.345-10.533-10.417S47.625 10 53.467 10zm0 17.152c3.799 0 6.36-2.878 6.36-6.734 0-3.857-2.561-6.734-6.36-6.734-3.799 0-6.36 2.877-6.36 6.734 0 3.856 2.561 6.734 6.36 6.734z",fill:"#FFF"})))};l.propTypes=i,t.default=l,e.exports=t.default},920:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(r(0)),n=p(r(1)),o=p(r(20)),i=r(11),l=r(25),u=p(r(2726)),s=p(r(2725)),c=p(r(2724)),f=p(r(2723)),d=p(r(2722));function p(e){return e&&e.__esModule?e:{default:e}}var m=[{org:"Google",url:(0,l.googleAuthenticationUrl)(),logo:u.default},{org:"Facebook",url:(0,l.facebookAuthenticationUrl)(),logo:s.default},{org:"Github",url:(0,l.githubAuthenticationUrl)(),logo:c.default},{org:"Twitter",url:(0,l.twitterAuthenticationUrl)(),logo:f.default,signInOnly:!0}],h=function(e){return a.default.createElement("div",null,a.default.createElement("h3",{className:d.default.header},e.signUp?(0,i.t)("views.users.sessions.oauth_register"):(0,i.t)("views.users.sessions.oauth_login")),a.default.createElement("ul",{className:d.default.btnContainer},m.map(function(t){return t.signInOnly&&e.signUp?null:a.default.createElement("li",{key:t.url,className:d.default.btnContainerListItem},a.default.createElement(o.default,{className:d.default.socialAuthButton,href:t.url},a.default.createElement("img",{alt:t.org,src:t.logo,className:d.default.icon})))})))};h.propTypes={signUp:n.default.bool},t.default=h,e.exports=t.default},922:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),i=r(0),l=f(i),u=f(r(1168)),s=f(r(1)),c=f(r(2728));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(n=a=function(e){function t(){var e,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,o=Array(n),i=0;i<n;i++)o[i]=arguments[i];return r=a=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.setCaptchaRef=function(e){a.captcha=e},a.execute=function(){a.captcha.execute()},d(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent),o(t,[{key:"render",value:function(){return function(){var e=this.props,t=e.size,r=e.publicKey,a=e.onChange,n=e.onExpired;return l.default.createElement(u.default,{ref:this.setCaptchaRef,className:c.default.captcha,badge:"bottomright",size:t,onChange:a,onExpired:n,sitekey:r})}}()}]),t}(),a.propTypes={publicKey:s.default.string.isRequired,onChange:s.default.func,onExpired:s.default.func,size:s.default.oneOf(["compact","normal","invisible"])},a.defaultProps={size:"normal",onExpired:function(){return function(){}}(),onChange:function(){return function(){}}()},n);t.default=p,e.exports=t.default}}]);
//# sourceMappingURL=7741c05aaa01ad0812d8-310423af3448dcbddb93.js.map